---
generator: blogger
title: |
    Christopher Gandrud (간드루드 크리스토파): A Link Between topicmodels
    LDA and LDAvis
viewport: width=1100
...

<div id="navbar" class="navbar section">

<div id="Navbar1" class="widget Navbar" data-version="1">

<div id="navbar-iframe-container">

</div>

</div>

</div>

<div class="body-fauxcolumns">

<div class="fauxcolumn-outer body-fauxcolumn-outer">

<div class="cap-top">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

<div class="fauxborder-left">

<div class="fauxborder-right">

</div>

<div class="fauxcolumn-inner">

</div>

</div>

<div class="cap-bottom">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

</div>

</div>

<div class="content">

<div class="content-fauxcolumns">

<div class="fauxcolumn-outer content-fauxcolumn-outer">

<div class="cap-top">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

<div class="fauxborder-left">

<div class="fauxborder-right">

</div>

<div class="fauxcolumn-inner">

</div>

</div>

<div class="cap-bottom">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

</div>

</div>

<div class="content-outer">

<div class="content-cap-top cap-top">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

<div class="fauxborder-left content-fauxborder-left">

<div class="fauxborder-right content-fauxborder-right">

</div>

<div class="content-inner">

<div class="header-outer">

<div class="header-cap-top cap-top">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

<div class="fauxborder-left header-fauxborder-left">

<div class="fauxborder-right header-fauxborder-right">

</div>

<div class="region-inner header-inner">

<div id="header" class="header section">

<div id="Header1" class="widget Header" data-version="1">

<div id="header-inner">

<div class="titlewrapper">

</div>

<div class="descriptionwrapper">

<span> </span>

</div>

</div>

</div>

</div>

</div>

</div>

<div class="header-cap-bottom cap-bottom">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

</div>

<div class="tabs-outer">

<div class="tabs-cap-top cap-top">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

<div class="fauxborder-left tabs-fauxborder-left">

<div class="fauxborder-right tabs-fauxborder-right">

</div>

<div class="region-inner tabs-inner">

<div id="crosscol" class="tabs section">

<div id="PageList1" class="widget PageList" data-version="1">

Pages
-----

<div class="widget-content">

-   [Home](http://christophergandrud.blogspot.com/)
-   [Bio/Contact](http://christophergandrud.blogspot.com/p/biocontact.html)
-   [Research](http://christophergandrud.blogspot.com/p/research.html)
-   [Software](http://christophergandrud.blogspot.com/p/blog-page_21.html)
-   [Teaching](http://christophergandrud.blogspot.com/p/teaching.html)

<div class="clear">

</div>

<span class="widget-item-control"> <span
class="item-control blog-admin">
[![](//img1.blogblog.com/img/icon18_wrench_allbkg.png)](//www.blogger.com/rearrange?blogID=36784551&widgetType=PageList&widgetId=PageList1&action=editWidget&sectionId=crosscol "Edit")
</span> </span>
<div class="clear">

</div>

</div>

</div>

</div>

<div id="crosscol-overflow" class="tabs section">

</div>

</div>

</div>

<div class="tabs-cap-bottom cap-bottom">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

</div>

<div class="main-outer">

<div class="main-cap-top cap-top">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

<div class="fauxborder-left main-fauxborder-left">

<div class="fauxborder-right main-fauxborder-right">

</div>

<div class="region-inner main-inner">

<div class="columns fauxcolumns">

<div class="fauxcolumn-outer fauxcolumn-center-outer">

<div class="cap-top">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

<div class="fauxborder-left">

<div class="fauxborder-right">

</div>

<div class="fauxcolumn-inner">

</div>

</div>

<div class="cap-bottom">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

</div>

<div class="fauxcolumn-outer fauxcolumn-left-outer">

<div class="cap-top">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

<div class="fauxborder-left">

<div class="fauxborder-right">

</div>

<div class="fauxcolumn-inner">

</div>

</div>

<div class="cap-bottom">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

</div>

<div class="fauxcolumn-outer fauxcolumn-right-outer">

<div class="cap-top">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

<div class="fauxborder-left">

<div class="fauxborder-right">

</div>

<div class="fauxcolumn-inner">

</div>

</div>

<div class="cap-bottom">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

</div>

<div class="columns-inner">

<div class="column-center-outer">

<div class="column-center-inner">

<div id="main" class="main section">

<div id="Blog1" class="widget Blog" data-version="1">

<div class="blog-posts hfeed">

<div class="date-outer">

<span>8 May 2015</span> {.date-header}
-----------------------

<div class="date-posts">

<div class="post-outer">

<div class="post hentry">

### A Link Between topicmodels LDA and LDAvis {.post-title .entry-title}

<div class="post-header">

<div class="post-header-line-1">

</div>

</div>

<div id="post-body-5609291667381521926" class="post-body entry-content">

Carson Sievert and Kenny Shirley have put together the really nice
[LDAvis](https://github.com/cpsievert/LDAvis) R package. It provides a
Shiny-based interactive interface for exploring the output from Latent
Dirichlet Allocation topic models. If you've never used it, I highly
recommend checking out their [XKCD
example](http://cpsievert.github.io/xkcd/) (this
[paper](http://nlp.stanford.edu/events/illvi2014/papers/sievert-illvi2014.pdf)
also has some nice background).

LDAvis doesn't fit topic models, it just visualises the output. As such
it is agnostic about what package you use to fit your LDA topic model.
They have a useful
[example](http://cpsievert.github.io/LDAvis/reviews/reviews.html) of how
to use output from the
[lda](http://cran.r-project.org/web/packages/lda/lda.pdf) package.

I wanted to use LDAvis with output from the
[topicmodels](http://cran.r-project.org/web/packages/topicmodels/index.html)
package. It works really nicely with texts preprocessed using the
[tm](http://cran.r-project.org/web/packages/tm/index.html) package. The
trick is extracting the information LDAvis requires from the model and
placing it into a specifically structured JSON formatted object.

To make the conversion from topicmodels output to LDAvis JSON input
easier, I created a linking function called `topicmodels_json_ldavis`.
The full function is below. To use it follow these steps:

1.  Create a `VCorpus` object using the tm package's `Corpus` function.

2.  Convert this to a document term matrix using `DocumentTermMatrix`,
    also from tm.

3.  Run your model using topicmodel's `LDA` function.

4.  Convert the output into JSON format using `topicmodels_json_ldavis`.
    The function requires the output from steps 1-3.

5.  Visualise with LDAvis' `serVis`.

<div style="clear: both;">

</div>

</div>

<div class="post-footer">

<div class="post-footer-line post-footer-line-1">

<span class="post-author vcard"> Posted by <span class="fn">
[Christopher
Gandrud](https://plus.google.com/117144236129331567344 "author profile")
</span> </span> <span class="post-timestamp"> at
[07:41](http://christophergandrud.blogspot.com/2015/05/a-link-between-topicmodels-lda-and.html "permanent link")
</span> <span class="post-comment-link"> </span> <span
class="post-icons"> <span class="item-control blog-admin pid-948947010">
[![](//img2.blogblog.com/img/icon18_edit_allbkg.gif)](https://www.blogger.com/post-edit.g?blogID=36784551&postID=5609291667381521926&from=pencil "Edit Post")
</span> </span>
<div class="post-share-buttons goog-inline-block">

[<span class="share-button-link-text">Email
This</span>](https://www.blogger.com/share-post.g?blogID=36784551&postID=5609291667381521926⌖=email "Email This")[<span
class="share-button-link-text">BlogThis!</span>](https://www.blogger.com/share-post.g?blogID=36784551&postID=5609291667381521926⌖=blog "BlogThis!")[<span
class="share-button-link-text">Share to
Twitter</span>](https://www.blogger.com/share-post.g?blogID=36784551&postID=5609291667381521926⌖=twitter "Share to Twitter")[<span
class="share-button-link-text">Share to
Facebook</span>](https://www.blogger.com/share-post.g?blogID=36784551&postID=5609291667381521926⌖=facebook "Share to Facebook")[<span
class="share-button-link-text">Share to
Pinterest</span>](https://www.blogger.com/share-post.g?blogID=36784551&postID=5609291667381521926⌖=pinterest "Share to Pinterest")
<div class="goog-inline-block google-plus-share-container">

</div>

</div>

</div>

<div class="post-footer-line post-footer-line-2">

<span class="post-labels"> Labels:
[D3.js](http://christophergandrud.blogspot.com/search/label/D3.js),
[interactive
graphics](http://christophergandrud.blogspot.com/search/label/interactive%20graphics),
[LDA](http://christophergandrud.blogspot.com/search/label/LDA),
[R-project](http://christophergandrud.blogspot.com/search/label/R-project),
[Shiny](http://christophergandrud.blogspot.com/search/label/Shiny),
[topic
model](http://christophergandrud.blogspot.com/search/label/topic%20model)
</span>

</div>

<div class="post-footer-line post-footer-line-3">

<span class="post-location"> </span>

</div>

</div>

</div>

<div id="comments" class="comments">

#### No comments:

<div id="Blog1_comments-block-wrapper">

</div>

[Post a
Comment](https://www.blogger.com/comment.g?blogID=36784551&postID=5609291667381521926)

<div id="backlinks-container">

<div id="Blog1_backlinks-container">

#### 

<span id="Blog1_backlinks-create-link">[]()</span>

</div>

</div>

</div>

</div>

</div>

</div>

</div>

<div id="blog-pager" class="blog-pager">

<span id="blog-pager-newer-link"> <span
id="Blog1_blog-pager-newer-link">[Newer
Post](http://christophergandrud.blogspot.com/2015/06/more-corrections-the-dpis-yrcurnt.html "Newer Post")</span>
</span> <span id="blog-pager-older-link"> <span
id="Blog1_blog-pager-older-link">[Older
Post](http://christophergandrud.blogspot.com/2014/12/simulated-or-real-what-type-of-data.html "Older Post")</span>
</span> [Home](http://christophergandrud.blogspot.com/)

</div>

<div class="clear">

</div>

<div class="post-feeds">

<div class="feed-links">

Subscribe to: [Post Comments
(Atom)](http://christophergandrud.blogspot.com/feeds/5609291667381521926/comments/default)

</div>

</div>

</div>

<div id="HTML2" class="widget HTML" data-version="1">

</div>

</div>

</div>

</div>

<div class="column-left-outer">

<div class="column-left-inner">

</div>

</div>

<div class="column-right-outer">

<div class="column-right-inner">

<div id="sidebar-right-1" class="sidebar section">

<div id="HTML3" class="widget HTML" data-version="1">

Twitter {.title}
-------

<div class="widget-content">

[Tweets by @ChrisGandrud](https://twitter.com/ChrisGandrud)

</div>

<div class="clear">

</div>

<span class="widget-item-control"> <span
class="item-control blog-admin">
[![](//img1.blogblog.com/img/icon18_wrench_allbkg.png)](//www.blogger.com/rearrange?blogID=36784551&widgetType=HTML&widgetId=HTML3&action=editWidget&sectionId=sidebar-right-1 "Edit")
</span> </span>
<div class="clear">

</div>

</div>

</div>

</div>

</div>

</div>

<div style="clear: both">

</div>

</div>

</div>

</div>

<div class="main-cap-bottom cap-bottom">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

</div>

<div class="footer-outer">

<div class="footer-cap-top cap-top">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

<div class="fauxborder-left footer-fauxborder-left">

<div class="fauxborder-right footer-fauxborder-right">

</div>

<div class="region-inner footer-inner">

<div id="footer-1" class="foot section">

</div>

+--------------------------------------+--------------------------------------+
| <div id="footer-2-1"                 | <div id="footer-2-2"                 |
| class="foot section">                | class="foot section">                |
|                                      |                                      |
| </div>                               | </div>                               |
+--------------------------------------+--------------------------------------+

<div id="footer-3" class="foot section">

<div id="Attribution1" class="widget Attribution" data-version="1">

<div class="widget-content" style="text-align: center;">

Christopher Gandrud. Simple template. Powered by
[Blogger](https://www.blogger.com).

</div>

<div class="clear">

</div>

<span class="widget-item-control"> <span
class="item-control blog-admin">
[![](//img1.blogblog.com/img/icon18_wrench_allbkg.png)](//www.blogger.com/rearrange?blogID=36784551&widgetType=Attribution&widgetId=Attribution1&action=editWidget&sectionId=footer-3 "Edit")
</span> </span>
<div class="clear">

</div>

</div>

</div>

</div>

</div>

<div class="footer-cap-bottom cap-bottom">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

</div>

</div>

</div>

<div class="content-cap-bottom cap-bottom">

<div class="cap-left">

</div>

<div class="cap-right">

</div>

</div>

</div>

</div>
