{
    "collab_server" : "",
    "contents" : "---\ngenerator: 'WordPress 4.3.1'\ntitle: 'Another take on building a multi-lingual shiny app | Christophe Ladroue'\n...\n\n<div id=\"wrapper\" class=\"hfeed\">\n\n<div id=\"header\">\n\n<div id=\"masthead\">\n\n<div id=\"branding\" role=\"banner\">\n\n<div id=\"site-title\">\n\n<span> [Christophe\nLadroue](http://chrisladroue.com/ \"Christophe Ladroue\") </span>\n\n</div>\n\n<div id=\"site-description\">\n\n</div>\n\n![](http://chrisladroue.com/wp-content/uploads/2011/03/banner_green1.png)\n\n</div>\n\n<div id=\"access\" role=\"navigation\">\n\n<div class=\"skip-link screen-reader-text\">\n\n[Skip to content](#content \"Skip to content\")\n\n</div>\n\n<div class=\"menu\">\n\n-   [Home](http://chrisladroue.com/)\n-   [Publications](http://chrisladroue.com/publications/)\n-   [Software](http://chrisladroue.com/software/)\n    -   [Brownian Motion and Iterated Integrals on\n        Mathematica](http://chrisladroue.com/software/brownian-motion-and-iterated-integrals-on-mathematica/)\n    -   [Fractional Orstein-Uhlenbeck\n        process](http://chrisladroue.com/software/fractional-orstein-uhlenbeck-process/)\n    -   [Granger Causality for large\n        networks](http://chrisladroue.com/software/granger/)\n    -   [Matlab script for parsing Agilent\n        output (microarrays)](http://chrisladroue.com/software/matlab-script-for-parsing-agilent-output-microarrays/)\n-   [Scripting](http://chrisladroue.com/scripting/)\n    -   [Astronomy Picture of the\n        Day](http://chrisladroue.com/scripting/astronomy-picture-of-the-day/)\n    -   [Bing.py](http://chrisladroue.com/scripting/bing-py/)\n    -   [nationalGeographic.py](http://chrisladroue.com/scripting/nationalgeographic-py/)\n    -   [CiteULike\n        plugins](http://chrisladroue.com/scripting/citeulike-plugins/)\n    -   [Proxy-free CiteULike\n        Button](http://chrisladroue.com/scripting/134-2/)\n    -   [bashPodder](http://chrisladroue.com/scripting/bashpodder/)\n    -   [DVD filler](http://chrisladroue.com/scripting/dvd-filler/)\n    -   [GrabRadio.sh](http://chrisladroue.com/scripting/grabradio-sh/)\n-   [Blog](http://chrisladroue.com/blog/)\n-   [Contact](http://chrisladroue.com/contact/)\n\n</div>\n\n</div>\n\n</div>\n\n</div>\n\n<div id=\"main\">\n\n<div id=\"container\">\n\n<div id=\"content\" role=\"main\">\n\n<div id=\"nav-above\" class=\"navigation\">\n\n<div class=\"nav-previous\">\n\n[<span class=\"meta-nav\">←</span> How to pick up 3 numbers from a uniform\ndistribution in a transparent\nmanner?](http://chrisladroue.com/2014/07/how-to-pick-up-3-numbers-from-a-uniform-distribution-in-a-transparent-manner/)\n\n</div>\n\n<div class=\"nav-next\">\n\n</div>\n\n</div>\n\n<div id=\"post-1134\"\nclass=\"post-1134 post type-post status-publish format-standard hentry category-uncategorized tag-multilingual tag-r tag-shiny\">\n\nAnother take on building a multi-lingual shiny app {.entry-title}\n==================================================\n\n<div class=\"entry-meta\">\n\n<span class=\"meta-prep meta-prep-author\">Posted on</span> [<span\nclass=\"entry-date\">November 8,\n2014</span>](http://chrisladroue.com/2014/11/another-take-on-building-a-multi-lingual-shiny-app/ \"15:58\")\n<span class=\"meta-sep\">by</span> <span\nclass=\"author vcard\">[CL](http://chrisladroue.com/author/cl/ \"View all posts by CL\")</span>\n\n</div>\n\n<div class=\"entry-content\">\n\n[![](http://chrisladroue.com/wp-content/uploads/2014/11/multilingualShinyApp1.png \"multilingualShinyApp\")](http://chrisladroue.com/wp-content/uploads/2014/11/multilingualShinyApp1.png)I\nwas reading [this interesting\npost](http://withr.me/blog/2014/10/17/design-a-bilingual-shiny-application/)\nabout how to build a multi-lingual `Shiny` app. I’m also building a\nmulti-lingual `Shiny` app and came up with slightly different take on\nit.\n\nFirst, I don’t use a function for finding the translation, but a 2D\nlist. This way I can directly get to the translation with a simple\naccess to the list.\n\n<div class=\"my_syntax_box\">\n\n<span class=\"my_syntax_selecall\">[Select All](javascript:;) </span><span\nclass=\"my_syntax_Bar\">Code:</span>\n<div class=\"my_syntax\">\n\n+--------------------------------------+--------------------------------------+\n|     1                                | ``` {.rsplus style=\"font-family:mono |\n|     2                                | space;\"}                             |\n|     3                                | translation <- list(                 |\n|     4                                |   \"youhaveselected\" = list(\"en\" = \"Y |\n|     5                                | ou have selected:\", \"fr\"=\"Vous avez  |\n|     6                                | sélectionné:\"),                      |\n|     7                                |   \"greetings\" = list(\"en\" = \"Hello\", |\n|                                      |  \"fr\"=\"Bonjour\")                     |\n|                                      |   )                                  |\n|                                      | # then:                              |\n|                                      | translation[['greetings']][['en']] # |\n|                                      |  Hello                               |\n|                                      | translation[['greetings']][['fr']]   |\n|                                      | # Bonjour                            |\n|                                      | ```                                  |\n+--------------------------------------+--------------------------------------+\n\n</div>\n\n</div>\n\nSecond, I don’t use `observe`, as I didn’t find it necessary. I simply\nhave a radio button for switching between languages, and a function\n`tr()` to translate a phrase or a list of phrases. Like in the original\npost, the UI is built from `server.R` using `renderUI()`.\n\n<div class=\"my_syntax_box\">\n\n<span class=\"my_syntax_selecall\">[Select All](javascript:;) </span><span\nclass=\"my_syntax_Bar\">Code:</span>\n<div class=\"my_syntax\">\n\n+--------------------------------------+--------------------------------------+\n|     1                                | ``` {.rsplus style=\"font-family:mono |\n|     2                                | space;\"}                             |\n|     3                                |   tr <- function(text){ # translates |\n|                                      |  text into current language          |\n|                                      |     sapply(text,function(s) translat |\n|                                      | ion[[s]][[input$language]], USE.NAME |\n|                                      | S=FALSE)                             |\n|                                      |   }                                  |\n|                                      | ```                                  |\n+--------------------------------------+--------------------------------------+\n\n</div>\n\n</div>\n\n<div class=\"my_syntax_box\">\n\n<span class=\"my_syntax_selecall\">[Select All](javascript:;) </span><span\nclass=\"my_syntax_Bar\">Code:</span>\n<div class=\"my_syntax\">\n\n+--------------------------------------+--------------------------------------+\n|     1                                | ``` {.rsplus style=\"font-family:mono |\n|     2                                | space;\"}                             |\n|     3                                |                                      |\n|     4                                |   # UI                               |\n|     5                                |   output$uiObs <- renderUI({         |\n|     6                                |     sliderInput(\"obs\", tr(\"numberOfO |\n|     7                                | bservations\"),                       |\n|     8                                |                   min = 1, max = 100 |\n|     9                                | , value = 50)                        |\n|     10                               |   })                                 |\n|     11                               |                                      |\n|     12                               |   output$uiWeekdays <- renderUI({    |\n|     13                               |     # Using a named list in order to |\n|     14                               |  pass the same value regardless of t |\n|     15                               | he label (which changes with the lan |\n|     16                               | guage)                               |\n|     17                               |     daysValue <- c(\"Monday\", \"Tuesda |\n|                                      | y\", \"Wednesday\", \"Thursday\", \"Friday |\n|                                      | \", \"Saturday\", \"Sunday\")             |\n|                                      |     days <- structure(daysValue, .Na |\n|                                      | mes = tr(daysValue))                 |\n|                                      |                                      |\n|                                      |     selectInput(inputId   = \"weekday |\n|                                      | s\",                                  |\n|                                      |                 label     = tr(\"Sele |\n|                                      | ction:\"),                            |\n|                                      |                 choices   = days,    |\n|                                      |                 multiple  = TRUE)    |\n|                                      |   })                                 |\n|                                      | ```                                  |\n+--------------------------------------+--------------------------------------+\n\n</div>\n\n</div>\n\nTo make things easier for the translators, the dictionary is stored as a\ncsv file, which is easy to edit. A small `R` script turns the csv into\nthe expected 2D list, and saves it in a binary file, to avoid\nre-processing the file every time the user decides to switch language.\n\n<div class=\"my_syntax_box\">\n\n<span class=\"my_syntax_selecall\">[Select All](javascript:;) </span><span\nclass=\"my_syntax_Bar\">Code:</span>\n<div class=\"my_syntax\">\n\n+--------------------------------------+--------------------------------------+\n|     1                                | ``` {.rsplus style=\"font-family:mono |\n|     2                                | space;\"}                             |\n|     3                                | # update the processed translation f |\n|     4                                | ile translation.bin                  |\n|     5                                | # run this every time dictionary.csv |\n|     6                                |  is updated                          |\n|     7                                | # it reads the look-up table in dict |\n|     8                                | ionary.csv and turns it into a 2D li |\n|     9                                | st                                   |\n|                                      |                                      |\n|                                      | library(plyr)                        |\n|                                      | translationContent <- read.delim(\"di |\n|                                      | ctionary.csv\", header = TRUE, sep =  |\n|                                      | \"\\t\", as.is = TRUE)                  |\n|                                      | translation <- dlply(translationCont |\n|                                      | ent ,.(key), function(s) key = as.li |\n|                                      | st(s))                               |\n|                                      |                                      |\n|                                      | save(translation, file = \"translatio |\n|                                      | n.bin\")                              |\n|                                      | ```                                  |\n+--------------------------------------+--------------------------------------+\n\n</div>\n\n</div>\n\nYou can consult the whole code on [the github\nrepository](https://github.com/chrislad/multilingualShinyApp) and run it\ndirectly from `R` using:\n\n<div class=\"my_syntax_box\">\n\n<span class=\"my_syntax_selecall\">[Select All](javascript:;) </span><span\nclass=\"my_syntax_Bar\">Code:</span>\n<div class=\"my_syntax\">\n\n+--------------------------------------+--------------------------------------+\n|     1                                | ``` {.rsplus style=\"font-family:mono |\n|                                      | space;\"}                             |\n|                                      | shiny::runGitHub(\"multilingualShinyA |\n|                                      | pp\",\"chrislad\")                      |\n|                                      | ```                                  |\n+--------------------------------------+--------------------------------------+\n\n</div>\n\n</div>\n\n</div>\n\n<div class=\"entry-utility\">\n\nThis entry was posted in\n[Uncategorized](http://chrisladroue.com/category/uncategorized/) and\ntagged [multilingual](http://chrisladroue.com/tag/multilingual/),\n[R](http://chrisladroue.com/tag/r/),\n[shiny](http://chrisladroue.com/tag/shiny/). Bookmark the\n[permalink](http://chrisladroue.com/2014/11/another-take-on-building-a-multi-lingual-shiny-app/ \"Permalink to Another take on building a multi-lingual shiny app\").\n\n</div>\n\n</div>\n\n<div id=\"nav-below\" class=\"navigation\">\n\n<div class=\"nav-previous\">\n\n[<span class=\"meta-nav\">←</span> How to pick up 3 numbers from a uniform\ndistribution in a transparent\nmanner?](http://chrisladroue.com/2014/07/how-to-pick-up-3-numbers-from-a-uniform-distribution-in-a-transparent-manner/)\n\n</div>\n\n<div class=\"nav-next\">\n\n</div>\n\n</div>\n\n<div id=\"comments\">\n\n### 2 Responses to *Another take on building a multi-lingual shiny app* {#comments-title}\n\n1.  <div id=\"li-comment-4703\">\n\n    </div>\n\n    <div id=\"comment-4703\">\n\n    <div class=\"comment-author vcard\">\n\n    ![](http://1.gravatar.com/avatar/4d9289caf7b5f4e98c283adc88dae382?s=40&r=g)\n    [Huidong](http://withr.me) <span class=\"says\">says:</span>\n\n    </div>\n\n    <div class=\"comment-meta commentmetadata\">\n\n    [November 10, 2014 at\n    10:05](http://chrisladroue.com/2014/11/another-take-on-building-a-multi-lingual-shiny-app/#comment-4703)\n\n    </div>\n\n    <div class=\"comment-body\">\n\n    Hi, you are right, it’s not necessary to use ‘Observe’. I included\n    it because there are other codes (hidden) need it. Anyway, I think\n    your blog is valuable!\n\n    </div>\n\n    <div class=\"reply\">\n\n    </div>\n\n    </div>\n\n    -   <div id=\"li-comment-4704\">\n\n        </div>\n\n        <div id=\"comment-4704\">\n\n        <div class=\"comment-author vcard\">\n\n        ![](http://0.gravatar.com/avatar/6a8ffc2770e86084a289a867492df6bb?s=40&r=g)\n        CL <span class=\"says\">says:</span>\n\n        </div>\n\n        <div class=\"comment-meta commentmetadata\">\n\n        [November 10, 2014 at\n        10:12](http://chrisladroue.com/2014/11/another-take-on-building-a-multi-lingual-shiny-app/#comment-4704)\n\n        </div>\n\n        <div class=\"comment-body\">\n\n        I see! Indeed, I was a bit confused by the use of `observe()`,\n        thank you for the clarification!\n\n        Cheers!\n\n        </div>\n\n        <div class=\"reply\">\n\n        </div>\n\n        </div>\n\n</div>\n\n</div>\n\n</div>\n\n<div id=\"primary\" class=\"widget-area\" role=\"complementary\">\n\n-   <div id=\"text-5\">\n\n    </div>\n\n    ### CL’s blog {.widget-title}\n\n    <div class=\"textwidget\">\n\n    An intermittent blog about R, programming and other things I find\n    interesting and want to share.\n\n    </div>\n\n-   <div id=\"text-6\">\n\n    </div>\n\n    <div class=\"textwidget\">\n\n    The content of this blog is licensed under [![Creative Commons\n    Licence](http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png)](http://creativecommons.org/licenses/by-nc-sa/3.0/).\n\n    </div>\n\n-   <div id=\"text-4\">\n\n    </div>\n\n    <div class=\"textwidget\">\n\n    ![](http://chrisladroue.com/wp-includes/images/rss.png) [Blog\n    feed](http://feeds.feedburner.com/ChristopheLadroueBlog)\n\n    </div>\n\n-   <div id=\"linkcat-2\">\n\n    </div>\n\n    ### Blogroll {.widget-title}\n\n    -   [Active R questions on\n        StackOverflow](http://stackoverflow.com/questions/tagged/?tagnames=r&sort=active)\n    -   [Flowing\n        Data](http://flowingdata.com/ \"The visualization and statistics site of Nathan Yau.\")\n        The visualization and statistics site of Nathan Yau.\n    -   [Getting Genetics\n        Done](http://gettinggeneticsdone.blogspot.com/ \"Software, Tips, & Productivity Hacks For Getting Things Done In Genetics Research\")\n        Software, Tips, & Productivity Hacks For Getting Things Done In\n        Genetics Research\n    -   [Information Is\n        Beautiful](http://www.informationisbeautiful.net/ \"Ideas, issues, knowledge, data – visualized!\")\n        Ideas, issues, knowledge, data – visualized!\n    -   [R-Bloggers](http://www.r-bloggers.com/ \"R news and tutorials contributed by (190+) R bloggers\")\n        R news and tutorials contributed by (190+) R bloggers\n    -   [Retraction\n        Watch](http://retractionwatch.wordpress.com/ \"An interesting side of scientific publishing\")\n        An interesting side of scientific publishing\n    -   [Statistical Modeling, Causal Inference, and Social\n        Science](http://www.stat.columbia.edu/~cook/movabletype/mlm/ \"(Mostly) Andrew Gelman’s blog\") (Mostly)\n        Andrew Gelman’s blog\n    -   [The\n        Endeavour](http://www.johndcook.com/blog/ \"John Cook’s blog\")\n        John Cook’s blog\n    -   [The Statistics\n        Forum](http://statisticsforum.wordpress.com/ \"provides everyone the opportunity to participate in discussions about probability and statistics and their role in important and interesting topics.\")\n        provides everyone the opportunity to participate in discussions\n        about probability and statistics and their role in important and\n        interesting topics.\n\n</div>\n\n<div id=\"secondary\" class=\"widget-area\" role=\"complementary\">\n\n-   <div id=\"recent-posts-2\">\n\n    </div>\n\n    ### Latest posts {.widget-title}\n\n    -   [Another take on building a multi-lingual shiny\n        app](http://chrisladroue.com/2014/11/another-take-on-building-a-multi-lingual-shiny-app/)\n    -   [How to pick up 3 numbers from a uniform distribution in a\n        transparent\n        manner?](http://chrisladroue.com/2014/07/how-to-pick-up-3-numbers-from-a-uniform-distribution-in-a-transparent-manner/)\n    -   [Win a free copy of a new video course on ggplot2 and\n        Shiny!](http://chrisladroue.com/2014/07/win-a-free-copy-of-a-new-video-course-on-ggplot2-and-shiny/)\n    -   [A two-hour online course on ggplot2 and\n        Shiny](http://chrisladroue.com/2014/06/a-two-hour-online-course-on-ggplot2-and-shiny/)\n    -   [A very quick introduction to\n        ggplot2](http://chrisladroue.com/2012/10/a-very-quick-introduction-to-ggplot2/)\n\n</div>\n\n</div>\n\n<div id=\"footer\" role=\"contentinfo\">\n\n<div id=\"colophon\">\n\n<div id=\"footer-widget-area\" role=\"complementary\">\n\n<div id=\"first\" class=\"widget-area\">\n\n-   <div id=\"text-3\">\n\n    </div>\n\n    ### Credits {.widget-title}\n\n    <div class=\"textwidget\">\n\n    This website is powered by\n    [wordpress](http://www.wordpress.org \"wordPress\"). It uses the\n    following plugins:[Portfolio\n    Slideshow](http://wordpress.org/extend/plugins/portfolio-slideshow/ \"Portfolio Slideshow\"),\n    [LaTeX](http://wordpress.org/extend/plugins/wp-latex/ \"WP LaTeX\"),[My\n    Syntax](http://wordpress.org/extend/plugins/my-syntax/ \"My Syntax\").\\\n     The word clouds were created\n    with [wordle.net](http://www.wordle.net \"Wordle\"). Banner done by\n    following instructions from [Heathenx's Inkscape\n    tutorials](http://screencasters.heathenx.org/episode-104)\n\n    </div>\n\n</div>\n\n</div>\n\n<div id=\"site-info\">\n\n[Christophe Ladroue](http://chrisladroue.com/ \"Christophe Ladroue\")\n\n</div>\n\n<div id=\"site-generator\">\n\n[Proudly powered by\nWordPress.](http://wordpress.org/ \"Semantic Personal Publishing Platform\")\n\n</div>\n\n</div>\n\n</div>\n\n</div>\n",
    "created" : 1464919826523.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2965196069",
    "id" : "C1AD8B71",
    "lastKnownWriteTime" : 1462486490,
    "last_content_update" : 1462486490,
    "path" : "~/Documents/repos/github_packages/browzr/data/test5.md",
    "project_path" : "data/test5.md",
    "properties" : {
        "chunk_rendered_width" : "650"
    },
    "relative_order" : 11,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "markdown"
}